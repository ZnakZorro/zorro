<html lang="pl">
<head>
<meta charset="utf-8">
<title>reFormat</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="HandheldFriendly" content="true">
<meta name="mobile-web-app-capable" content="yes"> 
<meta name="theme-color" content="#214960">
<link rel="shortcut icon" type="image/svg+xml" size="any" href="../img/dom.svg"> 
   <link rel="manifest" href="../zorro.web.json"> 
<link rel="stylesheet" href="../css/normalize.css" />
<link rel="stylesheet" href="../css/style.css" />
<link rel="stylesheet" href="../css/btn.css" />
  
<style>
 
*,*::before,*::after {box-sizing: border-box;} 
body {overflow-x: hidden;}
  body,textarea {
    font-family: Verdana;
    font-size: 12pt;
    padding: 0.2em;
    margin: 0.2em; 
  }
  textarea {width:99%; min-height:28vh;margin-top:1em;}
</style>


</head>
  
<body>

  <div class="wrapper">
    <h3>
      <img src="../css/icon/back.svg" onClick="backHome()" style="width:38px;vertical-align: middle; cursor:pointer;"/>
      &nbsp; git::linki
    </h3>
    <div class="container">
  

<button onClick="copyTXT()" class="btn-sm btn-red" id="copy" style="float:left;">Kopiuj</button>
<textarea id="editor"></textarea>

<button onClick="reformatTXT()" class="btn-sm" style="float:left">reformatTXT</button>
<span id="alert" style="margin-left:2em; color:red; "></span>
<button onClick="copyTXTref()" id="copyx" class="btn-sm" style="float:right; display:none;">copyTXT</button>
<textarea id="editot"></textarea>


 
</div>
</div>





<script>
  const $=e=>document.querySelector(e);
  const $$=e=>document.querySelectorAll(e);
  const backHome=()=>{window.location.href="../";}
  

const reformatTXT=()=>{
    let txt = document.getElementById("editor").value;
    let out = txt.replaceAll( /\n\n/g, "#XXX#" )
    out = out.replaceAll( /\n/g, ' ' )
    out = out.replaceAll("#XXX#", "\n\n")
    //out = out.replaceAll(/\s\s+/g, ' ')
    out = out.replaceAll(/  +/g, ' ')
    document.getElementById("editot").value=out;
    document.getElementById("copyx").style.display="inline";
}


function copyTXTref() {
  let copyText = document.getElementById("editot");
  copyText.select();
  copyText.setSelectionRange(0, 99999); /* For mobile devices */
  navigator.clipboard.writeText(copyText.value);
  document.getElementById("alert").textContent="Skopiowano!";
  setTimeout(()=>{
    document.getElementById("copyx").style.display="none";
    document.getElementById("alert").textContent="";
  },5000);
}
function copyTXT() {
  let copyText = document.getElementById("editor");
  copyText.select();
  copyText.setSelectionRange(0, 99999); /* For mobile devices */
  navigator.clipboard.writeText(copyText.value);
  document.getElementById("alert").textContent="Skopiowano!";
  
}

</script>



</body>
</html>