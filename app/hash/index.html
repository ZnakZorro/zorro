<!DOCTYPE html>
<html lang="pl">
<head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
   <meta http-equiv="x-ua-compatible" content="ie=edge" />
   <title>#hash</title>  
   <meta name="HandheldFriendly" content="true">
   <meta name="mobile-web-app-capable" content="yes"> 
   <meta name="theme-color" content="#008">
   <link rel="shortcut icon" type="image/svg+xml" size="any" href="../../img/dom.svg"> 
   <link rel="manifest" href="../../zorro.web.json"> 
   <link rel="stylesheet" href="../../css/style.css" />
   <link rel="stylesheet" href="../../css/all.css" />
   <style>   
      .smally {font-size:12pt; marfin-left:1em;}
   </style>
   <script src="./add/md5.min.js"></script>
   
   <script>
       document.addEventListener("DOMContentLoaded",function(){
           //document.getElementById("info").textContent = "info";
       });
const hasz=(hash)=>{
   hash = hash.trim();
   if (!hash) return;
   let token = md5(hash.toLowerCase());
   input.value = token;
}      
const gogogo=(hash)=>{
   hash = hash.trim();
   if (!hash) return;
   let token = md5(hash.toLowerCase());
   let uri = "https://raw.githubusercontent.com/ZnakZorro/zorro/main/app/hash/_/"+token+".html"
   console.log(hash,token,uri);
   fetch(uri)
   .then(r => {return r.text()})
   .then(o => {
      document.getElementById("result").innerHTML = o;
      document.getElementById("edit").innerHTML = '<button onclick='edit("'+uri+'")'>edit</button>';
      
   })
   .catch(e => {console.log(e)})
//onclick="result.value=md5(input.value);return false"
}
/*const getLocalURL=url=>{
   let o = snipARR[actualDOC];
   url = (url) ? url : o.f+"/"+o.u;
   return url;
}
const getURL=url=>'https://znakzorro.github.io/zorro/app/EDEK/?url='+location.href+url;
 */
const edit=(url)=>{   
   //url = getLocalURL(url);
   //let exurl = getURL(url);
   window.open(url,"_self");  
}

</script>
          
</head>

<body>
    <div class="wrapper">
        <app-menu title="#hash" name="ZnakZorro" link="../../"></app-menu>
        <script src="../../appMenu.js"></script>
       
        <div class="container">
           <!--a href="./hash.html" class="btn red">#Hash</a>
           <a href="./md5.html" class="btn red">#md5</a-->
           <button onclick="hasz(input.value);return false">#hash</button>
               
       </div>
       
       
    </div><!-- wraper-->

<div class="wrapper">
   <div class="container">
      
      <form style="display:inline">
            <p>
              <input id="input" style="min-width:17em; font-size: 14pt;" />
              <button class="red" type="submit" id="calculate" onclick="gogogo(input.value);return false">Go</button>               
            </p>
          </form>
      
      
         
      
   </div>
</div>
   
<div class="wrapper">
   <div class="container">
   <div id="edit" class="smally"></div>   
   <div id="result" class="smally"></div>   
   </div>
</div>
   
</body>
</html>
